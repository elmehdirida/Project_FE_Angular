<mat-card >
    <mat-card-title>
      <h2 class="title">Order #{{order.id}}</h2>
      <p class="date">{{order.order_date | date}}</p>
      <button class="close-dialog" mat-icon-button [mat-dialog-close]="true">
        <mat-icon>close</mat-icon>
      </button>
    </mat-card-title>
  <ng-container *ngIf="productOrders.length === count && count !==0 ;else loading">
  <mat-card *ngFor="let item of productOrders" class="container">
    <p class="quantity">Quantity: {{item.quantity}}</p>
    <mat-card-title>{{item.product.name}}</mat-card-title>
    <mat-card-content>
        <img [src]="item.product.image" class="image">
        <p class="price"> {{getDiscountedPrice(item.product.price, item.product.discount?.discount) | currency}}</p>
      </mat-card-content>

  </mat-card>
    <mat-card class="total">
      <mat-card-title>Total</mat-card-title>
      <mat-card-content>
        <p class="price">{{order.total_amount | currency}}</p>
      </mat-card-content>
    </mat-card>
  </ng-container>
  <ng-template #loading>
    <mat-card class="loading">
      <mat-card-title>Loading...</mat-card-title>
    </mat-card>
  </ng-template>

</mat-card>
